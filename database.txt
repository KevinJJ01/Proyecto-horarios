create database horario;
use horario;

create table Administrador(
Id_administrador integer primary key auto_increment,
Nombres_admin text not null,
Apellidos_admin text not null,
Tel_admin integer not null,
Tipo_admin text not null, 
password text not null
);


create table Regional(
Id_Regional integer primary key auto_increment,
Nombre text not null,
Departamento text not null,
Municipios_cargo text not null
);

create table Transversal(
Id_Transversal integer primary key auto_increment,
Nombre_Tran text not null,
Horas_Min_Sem int not null,
Horas_Max_sem integer not null,
Hora_Dia integer not null
);

create table Instructor(
id_instructor integer primary key auto_increment,
Nombre text not null,
Apellido text not null,
Num_identificacion text not null,
Tipo_Contrato text not null,
Horas_Semanales integer not null,
Horas_Diarias integer not null
);



create table Centro (
id_Centro integer primary key auto_increment,
id_Regional integer not null,
Nombre text not null,
Areas text not null,
Descripcion text not null,
FOREIGN KEY (Id_Regional) REFERENCES Regional(id_Regional)
);

CREATE TABLE Ambiente (
    idAmbiente INTEGER PRIMARY KEY AUTO_INCREMENT,
    id_Centro INTEGER,
    Nombre TEXT,
    Disponibilidad INTEGER NOT NULL,
    tipo INTEGER NOT NULL, 
    Horas_Disp INTEGER NOT NULL,
    Horas_Ocup INTEGER NOT NULL,
    FOREIGN KEY (id_Centro) REFERENCES Centro(id_Centro)
);

create table Coordinacion(
    id_Coordinacion integer primary key auto_increment,
    Id_Centro integer not null,
    Nombre_coordinacion text not null,
    descripcion_coordinacion text not null,
    FOREIGN KEY (Id_Centro) REFERENCES Centro(id_Centro)
);

create table Programa(
Id_programa integer primary key auto_increment,
Id_Coordinacion integer not null,
Nombre_progr integer not null,
FOREIGN KEY (Id_Coordinacion) REFERENCES Coordinacion(id_Coordinacion)
);


Create table ficha(
idFicha integer primary key auto_increment,
id_Programa integer,
FOREIGN KEY (id_programa) REFERENCES Programa(Id_programa)
);

create table tematica(
Id_tematica integer primary key auto_increment,
id_programa integer not null,
Nombre text not null,
Duracion_Semana integer not null,
Duracion_Trimestre integer not null,
Descripcion_Breve text not null,
FOREIGN KEY (id_programa) REFERENCES Programa(Id_programa)
);

create table Resultado_de_aprendizaje(
id_Resul_apr integer primary key auto_increment,
id_tematica integer not null,
Nombre text not null,
estado text not null,
FOREIGN KEY (id_tematica) REFERENCES tematica(Id_tematica)
);

CREATE TABLE Bloque (
    idBloque INTEGER PRIMARY KEY AUTO_INCREMENT,
    idTematica INTEGER NOT NULL,
    idFicha INTEGER NOT NULL,
    idTransversal INTEGER NOT NULL,
    idAmbiente INTEGER NOT NULL,
    idInstructor INTEGER NOT NULL,
    Nombre TEXT NOT NULL,
    Dia INTEGER NOT NULL,
    FOREIGN KEY (idTematica) REFERENCES tematica(Id_tematica),
    FOREIGN KEY (idFicha) REFERENCES ficha(idFicha), 
    FOREIGN KEY (idTransversal) REFERENCES Transversal(Id_Transversal), 
    FOREIGN KEY (idAmbiente) REFERENCES Ambiente(idAmbiente),
    FOREIGN KEY (idInstructor) REFERENCES Instructor(id_instructor)
);

CREATE TABLE Horario (
    idHorario INTEGER PRIMARY KEY AUTO_INCREMENT,
    NumeroDias Integer not null,
    NumeroBloques Integer not null,
    id_Bloque Integer not null,
    FOREIGN KEY (id_Bloque) REFERENCES Bloque(idBloque)
);